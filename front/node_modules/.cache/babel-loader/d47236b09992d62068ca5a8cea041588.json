{"ast":null,"code":"import _slicedToArray from \"/home/fuencode/Documents/WildCodeSchool/checkpoint/Wild_Circus_2.0/front/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/fuencode/Documents/WildCodeSchool/checkpoint/Wild_Circus_2.0/front/src/components/adminPanel/UserList.jsx\";\nimport React, { useEffect, useState } from 'react';\nimport { AuthContext } from '../auth/Auth';\nimport './UserList.css';\nimport BgGlitch from '../BgGlitch';\nimport Axios from 'axios';\nimport { Redirect, Link } from 'react-router-dom';\n\nconst UserList = () => {\n  const dataUser = React.useContext(AuthContext);\n\n  const _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        isSubmit = _useState2[0],\n        setIsSubmit = _useState2[1];\n\n  const _useState3 = useState([]),\n        _useState4 = _slicedToArray(_useState3, 2),\n        place = _useState4[0],\n        setPlace = _useState4[1];\n\n  const _useState5 = useState(),\n        _useState6 = _slicedToArray(_useState5, 2),\n        newPlace = _useState6[0],\n        setNewPlace = _useState6[1];\n\n  const _useState7 = useState(),\n        _useState8 = _slicedToArray(_useState7, 2),\n        newName = _useState8[0],\n        setNewName = _useState8[1];\n\n  const _useState9 = useState(),\n        _useState10 = _slicedToArray(_useState9, 2),\n        newImage = _useState10[0],\n        setNewImage = _useState10[1];\n\n  const _useState11 = useState(null),\n        _useState12 = _slicedToArray(_useState11, 2),\n        needDelete = _useState12[0],\n        setNeedDelete = _useState12[1];\n\n  const submitPlace = () => {\n    Axios.post(`http://localhost:5000/api/user`, {\n      place: newPlace,\n      name: newName,\n      image: newImage\n    }).then(setIsSubmit(true));\n  };\n\n  const removePlace = () => {\n    Axios.delete(`http://localhost:5000/api/user/${needDelete}`).then(setIsSubmit(true));\n  };\n\n  useEffect(() => {\n    Axios.get('http://localhost:5000/api/user').then(res => res.data).then(data => setPlace(data));\n  }, []);\n\n  if (isSubmit) {\n    return React.createElement(Redirect, {\n      to: \"/Admin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33\n      },\n      __self: this\n    });\n  }\n\n  if (needDelete != null) {\n    return removePlace();\n  }\n\n  return React.createElement(\"div\", {\n    className: \"UserList_container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"Login_BgGlitch\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, React.createElement(BgGlitch, {\n    title: \"MADE BY FUENCORE\",\n    glitch: \"WILD_CIRCUS\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  })), React.createElement(Link, {\n    to: \"/Admin\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    id: \"Return_button\",\n    type: \"submit\",\n    name: \"return\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, \"Retour\")), React.createElement(\"div\", {\n    className: \"UserList_box\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, React.createElement(\"ul\", {\n    className: \"UserList_ul\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, place.map(x => React.createElement(\"li\", {\n    className: \"UserList_li\",\n    key: x.id,\n    value: x.id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    id: \"UserList_button\",\n    type: \"submit\",\n    onClick: () => setNeedDelete(x.id),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, \"Remove\"), React.createElement(\"img\", {\n    className: \"UserList_img\",\n    src: x.avatar,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"UserList_info_container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    className: \"UserList_name\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, x.pseudo), React.createElement(\"p\", {\n    className: \"UserList_place\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, x.username))))), React.createElement(\"div\", {\n    className: \"UserList_box2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, React.createElement(\"li\", {\n    className: \"UserList_li\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"UserList_info_container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"text\",\n    className: \"UserList_name_1\",\n    placeholder: \"Entrer un lien d'image\",\n    onChange: e => setNewImage(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    type: \"text\",\n    className: \"UserList_name_1\",\n    placeholder: \"Entrer un username\",\n    onChange: e => setNewName(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    type: \"text\",\n    className: \"UserList_place_1\",\n    placeholder: \"Entrer un pseudo\",\n    onChange: e => setNewPlace(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    type: \"password\",\n    className: \"UserList_place_1\",\n    placeholder: \"Entrer un mot de passe\",\n    onChange: e => setNewPlace(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  })))), React.createElement(\"button\", {\n    className: \"UserList_submit_btn\",\n    type: \"submit\",\n    onClick: () => submitPlace(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, \"Enregistrer les modifications\")));\n};\n\nexport default UserList;","map":{"version":3,"sources":["/home/fuencode/Documents/WildCodeSchool/checkpoint/Wild_Circus_2.0/front/src/components/adminPanel/UserList.jsx"],"names":["React","useEffect","useState","AuthContext","BgGlitch","Axios","Redirect","Link","UserList","dataUser","useContext","isSubmit","setIsSubmit","place","setPlace","newPlace","setNewPlace","newName","setNewName","newImage","setNewImage","needDelete","setNeedDelete","submitPlace","post","name","image","then","removePlace","delete","get","res","data","map","x","id","avatar","pseudo","username","e","target","value"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { AuthContext } from '../auth/Auth';\nimport './UserList.css';\nimport BgGlitch from '../BgGlitch';\nimport Axios from 'axios';\nimport { Redirect, Link } from 'react-router-dom';\n\nconst UserList = () => {\n\tconst dataUser = React.useContext(AuthContext);\n\tconst [ isSubmit, setIsSubmit ] = useState(false);\n\tconst [ place, setPlace ] = useState([]);\n\tconst [ newPlace, setNewPlace ] = useState();\n\tconst [ newName, setNewName ] = useState();\n\tconst [ newImage, setNewImage ] = useState();\n\tconst [ needDelete, setNeedDelete ] = useState(null);\n\n\tconst submitPlace = () => {\n\t\tAxios.post(`http://localhost:5000/api/user`, {\n\t\t\tplace: newPlace,\n\t\t\tname: newName,\n\t\t\timage: newImage\n\t\t}).then(setIsSubmit(true));\n\t};\n\n\tconst removePlace = () => {\n\t\tAxios.delete(`http://localhost:5000/api/user/${needDelete}`).then(setIsSubmit(true));\n\t};\n\tuseEffect(() => {\n\t\tAxios.get('http://localhost:5000/api/user').then((res) => res.data).then((data) => setPlace(data));\n\t}, []);\n\n\tif (isSubmit) {\n\t\treturn <Redirect to=\"/Admin\" />;\n\t}\n\n\tif (needDelete != null) {\n\t\treturn removePlace();\n\t}\n\n\treturn (\n\t\t<div className=\"UserList_container\">\n\t\t\t<div className=\"Login_BgGlitch\">\n\t\t\t\t<BgGlitch title=\"MADE BY FUENCORE\" glitch=\"WILD_CIRCUS\" />\n\t\t\t</div>\n\t\t\t<Link to=\"/Admin\">\n\t\t\t\t<button id=\"Return_button\" type=\"submit\" name=\"return\">\n\t\t\t\t\tRetour\n\t\t\t\t</button>\n\t\t\t</Link>\n\t\t\t<div className=\"UserList_box\">\n\t\t\t\t<ul className=\"UserList_ul\">\n\t\t\t\t\t{place.map((x) => (\n\t\t\t\t\t\t<li className=\"UserList_li\" key={x.id} value={x.id}>\n\t\t\t\t\t\t\t<button id=\"UserList_button\" type=\"submit\" onClick={() => setNeedDelete(x.id)}>\n\t\t\t\t\t\t\t\tRemove\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<img className=\"UserList_img\" src={x.avatar} />\n\t\t\t\t\t\t\t<div className=\"UserList_info_container\">\n\t\t\t\t\t\t\t\t<p className=\"UserList_name\">{x.pseudo}</p>\n\t\t\t\t\t\t\t\t<p className=\"UserList_place\">{x.username}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t))}\n\t\t\t\t</ul>\n\t\t\t\t<div className=\"UserList_box2\">\n\t\t\t\t\t<li className=\"UserList_li\">\n\t\t\t\t\t\t<div className=\"UserList_info_container\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclassName=\"UserList_name_1\"\n\t\t\t\t\t\t\t\tplaceholder=\"Entrer un lien d'image\"\n\t\t\t\t\t\t\t\tonChange={(e) => setNewImage(e.target.value)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclassName=\"UserList_name_1\"\n\t\t\t\t\t\t\t\tplaceholder=\"Entrer un username\"\n\t\t\t\t\t\t\t\tonChange={(e) => setNewName(e.target.value)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclassName=\"UserList_place_1\"\n\t\t\t\t\t\t\t\tplaceholder=\"Entrer un pseudo\"\n\t\t\t\t\t\t\t\tonChange={(e) => setNewPlace(e.target.value)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\tclassName=\"UserList_place_1\"\n\t\t\t\t\t\t\t\tplaceholder=\"Entrer un mot de passe\"\n\t\t\t\t\t\t\t\tonChange={(e) => setNewPlace(e.target.value)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</li>\n\t\t\t\t</div>\n\t\t\t\t<button className=\"UserList_submit_btn\" type=\"submit\" onClick={() => submitPlace()}>\n\t\t\t\t\tEnregistrer les modifications\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default UserList;\n"]},"metadata":{},"sourceType":"module"}