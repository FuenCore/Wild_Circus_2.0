{"ast":null,"code":"import _slicedToArray from \"/home/fuencode/Documents/WildCodeSchool/checkpoint/Wild_Circus_2.0/front/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/fuencode/Documents/WildCodeSchool/checkpoint/Wild_Circus_2.0/front/src/components/adminPanel/AddPlace.jsx\";\nimport React, { useEffect, useState } from 'react';\nimport './AddPlace.css';\nimport BgGlitch from \"../BgGlitch\";\nimport Axios from 'axios';\n\nconst AddPlace = () => {\n  const _useState = useState({\n    name: null,\n    url: null\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        avatar = _useState2[0],\n        setAvatar = _useState2[1];\n\n  const submitAvatar = () => {\n    const uploadTask = storage.ref(`images/${avatar.name}`).put(avatar);\n    uploadTask.on('state_changed', snapshop => {// progress function\n    }, error => {\n      console.log('error', error);\n    }, () => {\n      // complete function ...\n      storage.ref('images').child(avatar.name).getDownloadURL().then(url => {\n        setAvatar({\n          url: url\n        });\n        Axios.put(`http://localhost:5000/api/user/update/${dataUser && dataUser.userInfo && dataUser.userInfo.id}`, {\n          avatar: url\n        }).then(userHook.setUserInfo(null)).then(setIsSubmit(true));\n      });\n    });\n  };\n\n  useEffect(() => {\n    Axios.get('http://localhost:5000/api/exploit').then(res => res.data).then(data => setPlace(data));\n  }, []);\n\n  const _useState3 = useState([]),\n        _useState4 = _slicedToArray(_useState3, 2),\n        place = _useState4[0],\n        setPlace = _useState4[1];\n\n  const _useState5 = useState({\n    name: \"\",\n    place: \"\",\n    image: \"\"\n  }),\n        _useState6 = _slicedToArray(_useState5, 2),\n        newPlace = _useState6[0],\n        setNewPlace = _useState6[1];\n\n  return React.createElement(\"div\", {\n    className: \"AddPlace_container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"Login_BgGlitch\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, React.createElement(BgGlitch, {\n    title: \"MADE BY FUENCORE\",\n    glitch: \"WILD_CIRCUS\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"AddPlace_box\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, React.createElement(\"ul\", {\n    className: \"AddPlace_ul\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, place.map(x => React.createElement(\"li\", {\n    className: \"AddPlace_li\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    id: \"AddPlace_button\",\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, \"Remove\"), React.createElement(\"img\", {\n    className: \"AddPlace_img\",\n    src: x.image,\n    key: x.id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"AddPlace_info_container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    className: \"AddPlace_name\",\n    key: x.id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, x.name), React.createElement(\"p\", {\n    className: \"AddPlace_place\",\n    key: x.id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, x.place))))), React.createElement(\"div\", {\n    className: \"AddPlace_box2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, React.createElement(\"li\", {\n    className: \"AddPlace_li\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    id: \"AddPlace_button\",\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, \"Remove\"), React.createElement(\"img\", {\n    className: \"AddPlace_img\",\n    src: newPlace.image,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"AddPlace_info_container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"text\",\n    className: \"AddPlace_name\",\n    placeholder: \"Entrer un nom\",\n    onChange: e => setNewPlace({\n      name: e.target.value\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    type: \"text\",\n    className: \"AddPlace_place\",\n    placeholder: \"Entrer un lieu\",\n    onChange: e => setNewPlace({\n      place: e.target.value\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }))))));\n};\n\nexport default AddPlace;","map":{"version":3,"sources":["/home/fuencode/Documents/WildCodeSchool/checkpoint/Wild_Circus_2.0/front/src/components/adminPanel/AddPlace.jsx"],"names":["React","useEffect","useState","BgGlitch","Axios","AddPlace","name","url","avatar","setAvatar","submitAvatar","uploadTask","storage","ref","put","on","snapshop","error","console","log","child","getDownloadURL","then","dataUser","userInfo","id","userHook","setUserInfo","setIsSubmit","get","res","data","setPlace","place","image","newPlace","setNewPlace","map","x","e","target","value"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAO,gBAAP;AACA,OAAOC,QAAP,MAAqB,aAArB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,QAAQ,GAAG,MAAM;AAAA,oBAEWH,QAAQ,CAAC;AACzCI,IAAAA,IAAI,EAAE,IADmC;AAEzCC,IAAAA,GAAG,EAAE;AAFoC,GAAD,CAFnB;AAAA;AAAA,QAEXC,MAFW;AAAA,QAEHC,SAFG;;AAOnB,QAAMC,YAAY,GAAG,MAAM;AAC7B,UAAMC,UAAU,GAAGC,OAAO,CAACC,GAAR,CAAa,UAASL,MAAM,CAACF,IAAK,EAAlC,EAAqCQ,GAArC,CAAyCN,MAAzC,CAAnB;AACAG,IAAAA,UAAU,CAACI,EAAX,CACC,eADD,EAEEC,QAAD,IAAc,CACb;AACA,KAJF,EAKEC,KAAD,IAAW;AACVC,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBF,KAArB;AACA,KAPF,EAQC,MAAM;AACL;AACAL,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBO,KAAtB,CAA4BZ,MAAM,CAACF,IAAnC,EAAyCe,cAAzC,GAA0DC,IAA1D,CAA+Df,GAAG,IAAI;AACrEE,QAAAA,SAAS,CAAC;AAAEF,UAAAA,GAAG,EAAEA;AAAP,SAAD,CAAT;AACAH,QAAAA,KAAK,CAACU,GAAN,CACE,yCAAwCS,QAAQ,IAChDA,QAAQ,CAACC,QAD+B,IAExCD,QAAQ,CAACC,QAAT,CAAkBC,EAAG,EAHvB,EAIC;AACCjB,UAAAA,MAAM,EAAED;AADT,SAJD,EAOEe,IAPF,CAOQI,QAAQ,CAACC,WAAT,CAAqB,IAArB,CAPR,EAQCL,IARD,CAQMM,WAAW,CAAC,IAAD,CARjB;AASA,OAXD;AAYA,KAtBF;AAwBA,GA1BE;;AA6BH3B,EAAAA,SAAS,CAAC,MAAM;AACfG,IAAAA,KAAK,CAACyB,GAAN,CAAU,mCAAV,EAA+CP,IAA/C,CAAqDQ,GAAD,IAASA,GAAG,CAACC,IAAjE,EAAuET,IAAvE,CAA6ES,IAAD,IAAUC,QAAQ,CAACD,IAAD,CAA9F;AACA,GAFQ,EAEN,EAFM,CAAT;;AApCsB,qBAwCS7B,QAAQ,CAAC,EAAD,CAxCjB;AAAA;AAAA,QAwCX+B,KAxCW;AAAA,QAwCJD,QAxCI;;AAAA,qBAyCe9B,QAAQ,CAAC;AACvCI,IAAAA,IAAI,EAAE,EADiC;AAEvC2B,IAAAA,KAAK,EAAE,EAFgC;AAGvCC,IAAAA,KAAK,EAAE;AAHgC,GAAD,CAzCvB;AAAA;AAAA,QAyCXC,QAzCW;AAAA,QAyCDC,WAzCC;;AAgDtB,SACC;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACU;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACR,oBAAC,QAAD;AAAU,IAAA,KAAK,EAAC,kBAAhB;AAAmC,IAAA,MAAM,EAAC,aAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADQ,CADV,EAIC;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC;AAAI,IAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACEH,KAAK,CAACI,GAAN,CAAUC,CAAC,IACX;AAAI,IAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACsB;AAAQ,IAAA,EAAE,EAAC,iBAAX;AAA4B,IAAA,IAAI,EAAC,QAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADtB,EAEC;AAAK,IAAA,SAAS,EAAC,cAAf;AAA8B,IAAA,GAAG,EAAEA,CAAC,CAACJ,KAArC;AAA4C,IAAA,GAAG,EAAEI,CAAC,CAACb,EAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFD,EAGsB;AAAK,IAAA,SAAS,EAAC,yBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACrB;AAAG,IAAA,SAAS,EAAC,eAAb;AAA6B,IAAA,GAAG,EAAEa,CAAC,CAACb,EAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAyCa,CAAC,CAAChC,IAA3C,CADqB,EAErB;AAAG,IAAA,SAAS,EAAC,gBAAb;AAA8B,IAAA,GAAG,EAAEgC,CAAC,CAACb,EAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA0Ca,CAAC,CAACL,KAA5C,CAFqB,CAHtB,CADA,CADF,CADD,EAaa;AAAK,IAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA;AAAI,IAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACY;AAAQ,IAAA,EAAE,EAAC,iBAAX;AAA4B,IAAA,IAAI,EAAC,QAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADZ,EAET;AAAK,IAAA,SAAS,EAAC,cAAf;AAA8B,IAAA,GAAG,EAAEE,QAAQ,CAACD,KAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFS,EAGY;AAAK,IAAA,SAAS,EAAC,yBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACrB;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,SAAS,EAAC,eAA7B;AAA6C,IAAA,WAAW,EAAC,eAAzD;AAAyE,IAAA,QAAQ,EAAEK,CAAC,IAAIH,WAAW,CAAC;AAAC9B,MAAAA,IAAI,EAAEiC,CAAC,CAACC,MAAF,CAASC;AAAhB,KAAD,CAAnG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADqB,EAErB;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,SAAS,EAAC,gBAA7B;AAA8C,IAAA,WAAW,EAAC,gBAA1D;AAA2E,IAAA,QAAQ,EAAEF,CAAC,IAAIH,WAAW,CAAC;AAACH,MAAAA,KAAK,EAAEM,CAAC,CAACC,MAAF,CAASC;AAAjB,KAAD,CAArG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFqB,CAHZ,CADA,CAbb,CAJD,CADD;AA+BA,CA/ED;;AAiFA,eAAepC,QAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport './AddPlace.css';\nimport BgGlitch from \"../BgGlitch\"\nimport Axios from 'axios';\n\nconst AddPlace = () => {\n\n    const [ avatar, setAvatar ] = useState({\n\t\tname: null,\n\t\turl: null\n\t});\n\n    const submitAvatar = () => {\n\t\tconst uploadTask = storage.ref(`images/${avatar.name}`).put(avatar);\n\t\tuploadTask.on(\n\t\t\t'state_changed',\n\t\t\t(snapshop) => {\n\t\t\t\t// progress function\n\t\t\t},\n\t\t\t(error) => {\n\t\t\t console.log('error', error);\n\t\t\t},\n\t\t\t() => {\n\t\t\t\t// complete function ...\n\t\t\t\tstorage.ref('images').child(avatar.name).getDownloadURL().then(url => {\n\t\t\t\t\tsetAvatar({ url: url });\n\t\t\t\t\tAxios.put(\n\t\t\t\t\t\t`http://localhost:5000/api/user/update/${dataUser &&\n\t\t\t\t\t\t\tdataUser.userInfo &&\n\t\t\t\t\t\t\tdataUser.userInfo.id}`,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tavatar: url\n\t\t\t\t\t\t}\n\t\t\t\t\t).then(\tuserHook.setUserInfo(null))\n\t\t\t\t\t.then(setIsSubmit(true));\n\t\t\t\t});\n\t\t\t}\n\t\t);\n\t};\n\n\n\tuseEffect(() => {\n\t\tAxios.get('http://localhost:5000/api/exploit').then((res) => res.data).then((data) => setPlace(data));\n\t}, []);\n\n    const [ place, setPlace ] = useState([]);\n    const [ newPlace, setNewPlace ] = useState({\n        name: \"\",\n        place: \"\",\n        image: \"\"\n    })\n\n\n\treturn (\n\t\t<div className=\"AddPlace_container\">\n            <div className=\"Login_BgGlitch\">\n\t\t\t\t<BgGlitch title=\"MADE BY FUENCORE\" glitch=\"WILD_CIRCUS\"/>\n\t\t\t</div>\t\n\t\t\t<div className=\"AddPlace_box\">\n\t\t\t\t<ul className=\"AddPlace_ul\">\n\t\t\t\t\t{place.map(x => (\n\t\t\t\t\t\t<li className=\"AddPlace_li\">\n                            <button id=\"AddPlace_button\"type=\"submit\">Remove</button>\n\t\t\t\t\t\t\t<img className=\"AddPlace_img\" src={x.image} key={x.id}/>\n                            <div className=\"AddPlace_info_container\">\n\t\t\t\t\t\t\t<p className=\"AddPlace_name\" key={x.id}>{x.name}</p>\n\t\t\t\t\t\t\t<p className=\"AddPlace_place\" key={x.id}>{x.place}</p>\n                            </div>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t))}\n\t\t\t\t</ul>\n                <div className=\"AddPlace_box2\">\n                <li className=\"AddPlace_li\">\n                            <button id=\"AddPlace_button\"type=\"submit\">Remove</button>\n\t\t\t\t\t\t\t<img className=\"AddPlace_img\" src={newPlace.image} />\n                            <div className=\"AddPlace_info_container\">\n\t\t\t\t\t\t\t<input type=\"text\" className=\"AddPlace_name\" placeholder=\"Entrer un nom\" onChange={e => setNewPlace({name: e.target.value})}/>\n\t\t\t\t\t\t\t<input type=\"text\" className=\"AddPlace_place\" placeholder=\"Entrer un lieu\" onChange={e => setNewPlace({place: e.target.value})}/>\n                            </div>\n\t\t\t\t\t\t</li>\n                </div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default AddPlace;\n"]},"metadata":{},"sourceType":"module"}