{"ast":null,"code":"import _slicedToArray from \"/home/fuencode/Documents/WildCodeSchool/checkpoint/Wild_Circus_2.0/front/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/fuencode/Documents/WildCodeSchool/checkpoint/Wild_Circus_2.0/front/src/components/Profile.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport './Profile.css';\nimport { useAuth, AuthContext } from './auth/Auth';\nimport Axios from 'axios';\nimport ProfileContext from './ProfileContext';\nimport { Redirect } from 'react-router-dom';\nimport BgGlitch from \"./BgGlitch\";\n\nconst Profile = () => {\n  const submitProfile = () => {\n    Axios.put(`http://localhost:5000/api/user/update/${dataUser && dataUser.userInfo && dataUser.userInfo.id}`, {\n      firstname: firstname ? firstname : dataUser.firstname,\n      lastname: lastname ? lastname : dataUser.lastname,\n      pseudo: pseudo ? pseudo : dataUser.pseudo,\n      password: password\n    }).then(setIsSubmit(true));\n  };\n\n  const dataUser = React.useContext(AuthContext);\n  const defaultAvatar = 'https://image.freepik.com/vector-gratis/payaso-aterrador-sombrero-rojo_43623-432.jpg';\n\n  const _useState = useState(),\n        _useState2 = _slicedToArray(_useState, 2),\n        dataProfile = _useState2[0],\n        setDataProfile = _useState2[1];\n\n  const _useState3 = useState(''),\n        _useState4 = _slicedToArray(_useState3, 2),\n        firstname = _useState4[0],\n        setFirstname = _useState4[1];\n\n  const _useState5 = useState(''),\n        _useState6 = _slicedToArray(_useState5, 2),\n        lastname = _useState6[0],\n        setLastName = _useState6[1];\n\n  const _useState7 = useState(''),\n        _useState8 = _slicedToArray(_useState7, 2),\n        pseudo = _useState8[0],\n        setPseudo = _useState8[1];\n\n  const _useState9 = useState(''),\n        _useState10 = _slicedToArray(_useState9, 2),\n        password = _useState10[0],\n        setPassword = _useState10[1];\n\n  const _useState11 = useState(false),\n        _useState12 = _slicedToArray(_useState11, 2),\n        isSubmit = _useState12[0],\n        setIsSubmit = _useState12[1];\n\n  if (isSubmit) {\n    return React.createElement(Redirect, {\n      to: \"/Login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33\n      },\n      __self: this\n    });\n  }\n\n  return React.createElement(ProfileContext.Provider, {\n    value: {\n      dataProfile\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"Profile_container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"Profile_BgGlitch\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, React.createElement(BgGlitch, {\n    title: \"Voici ta page perso\",\n    glitch: \"_________\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"Profile_input_container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    className: \"Profile_user_img\",\n    src: dataUser && dataUser.userInfo && dataUser.userInfo.avatar || defaultAvatar,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    type: \"file\",\n    id: \"avatar\",\n    name: \"avatar\",\n    accept: \"image/png, image/jpeg\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    name: \"firstname\",\n    className: \"Profile_username\",\n    type: \"text\",\n    placeholder: \"Pr\\xE9nom\",\n    onChange: e => setFirstname(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    name: \"lastname\",\n    className: \"Profile_username\",\n    type: \"text\",\n    placeholder: \"Nom\",\n    onChange: e => setLastName(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    name: \"pseudo\",\n    className: \"Profile_username\",\n    type: \"text\",\n    placeholder: \"Pseudo\",\n    onChange: e => setPseudo(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    name: \"password\",\n    className: \"Profile_password\",\n    type: \"password\",\n    placeholder: \"Mot de passe\",\n    onChange: e => setPassword(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"Profile_container_button\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"Profile_button\",\n    onClick: () => submitProfile(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, \"Enregistrer\")))));\n};\n\nexport default Profile;","map":{"version":3,"sources":["/home/fuencode/Documents/WildCodeSchool/checkpoint/Wild_Circus_2.0/front/src/components/Profile.jsx"],"names":["React","useState","useEffect","useAuth","AuthContext","Axios","ProfileContext","Redirect","BgGlitch","Profile","submitProfile","put","dataUser","userInfo","id","firstname","lastname","pseudo","password","then","setIsSubmit","useContext","defaultAvatar","dataProfile","setDataProfile","setFirstname","setLastName","setPseudo","setPassword","isSubmit","avatar","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './Profile.css';\nimport { useAuth, AuthContext } from './auth/Auth';\nimport Axios from 'axios';\nimport ProfileContext from './ProfileContext';\nimport { Redirect } from 'react-router-dom';\nimport BgGlitch from \"./BgGlitch\";\n\nconst Profile = () => {\n\n\n    const submitProfile = () => {\n        Axios.put(`http://localhost:5000/api/user/update/${dataUser && dataUser.userInfo && dataUser.userInfo.id}`, {\n            firstname: firstname ? firstname : dataUser.firstname,\n            lastname: lastname ? lastname : dataUser.lastname,\n            pseudo: pseudo ? pseudo : dataUser.pseudo,\n            password: password\n        }).then(setIsSubmit(true))\n    }\n\n\tconst dataUser = React.useContext(AuthContext);\n    const defaultAvatar = 'https://image.freepik.com/vector-gratis/payaso-aterrador-sombrero-rojo_43623-432.jpg';\n\n\n    const [dataProfile, setDataProfile ] = useState()\n    const [firstname, setFirstname ] = useState('')\n    const [lastname, setLastName] = useState('');\n    const [pseudo, setPseudo] = useState('');\n    const [password, setPassword] = useState('');\n    const [ isSubmit, setIsSubmit ] = useState(false)\n\n    if (isSubmit) {\n\t\treturn <Redirect to=\"/Login\" />;\n\t}\n\n\treturn (\n        <ProfileContext.Provider value={{ dataProfile }}>\n\t\t<div className=\"Profile_container\">\n        <div className=\"Profile_BgGlitch\">\n\t\t\t\t<BgGlitch title=\"Voici ta page perso\" glitch=\"_________\"/>\n\t\t\t</div>\t\n\t\t\t<div className=\"Profile_input_container\">\n\t\t\t\t<img\n\t\t\t\t\tclassName=\"Profile_user_img\"\n\t\t\t\t\tsrc={(dataUser && dataUser.userInfo && dataUser.userInfo.avatar) || defaultAvatar}\n\t\t\t\t/>\n                                <input type=\"file\" id=\"avatar\" name=\"avatar\" accept=\"image/png, image/jpeg\"></input>\n\n\t\t\t\t<input name=\"firstname\" className=\"Profile_username\" type=\"text\" placeholder=\"Prénom\" onChange={(e) => setFirstname(e.target.value)}/>\n\t\t\t\t<input name=\"lastname\" className=\"Profile_username\" type=\"text\" placeholder=\"Nom\" onChange={(e) => setLastName(e.target.value)}/>\n\t\t\t\t<input name=\"pseudo\" className=\"Profile_username\" type=\"text\" placeholder=\"Pseudo\" onChange={(e) => setPseudo(e.target.value)}/>\n\t\t\t\t<input name=\"password\" className=\"Profile_password\" type=\"password\" placeholder=\"Mot de passe\" onChange={(e) => setPassword(e.target.value)}/>\n\n\t\t\t\t<div className=\"Profile_container_button\">\n\t\t\t\t\t<button className=\"Profile_button\" onClick={() => submitProfile()}>Enregistrer</button>\n                    {/* onclick=\"setTimeout('window.alert('Hello!')', 2000)\" /> */}\n\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n        </ProfileContext.Provider>\n\t);\n};\n\nexport default Profile;\n"]},"metadata":{},"sourceType":"module"}